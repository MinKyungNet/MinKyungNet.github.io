---
layout: post
title: "Dev와 Test 세트의 크기"
tags: [train set, dev set, test set]
categories: [Structuring Machine Learning Projects]
---

# 학습 목표
개발 세트와 시험 세트의 데이터 크기에 대한 고찰을 한다.

# 핵심 키워드
* 훈련 세트(train set)
* 개발 세트(dev set)
* 시험 세트(test set)

# 학습 내용
* 데이터가 부족했을 때, 훈련 : 시험 = 7 : 3 혹은 훈련 : 개발 : 시험 = 6 : 2 : 2로 나누는 경향이 있었습니다.
* 하지만 최근 머신러닝에서는 훨씬 큰 데이터 세트를 다룹니다. 따라서 훈련 : 개발 : 시험 = 98 : 1 : 1로 나눈 것이 합리적인 방법입니다. 1,000,000개의 예시가 있는 경우, 1%만 해도 10,000개의 예시로 충분하기 때문입니다.

# 인트로
지난 영상에서 왜 개발 세트와 시험 세트가 동일한 분포에서 얻어져야 하는지 봤습니다.              
그럼 얼마나 커야 할까요?                 
딥러닝이 발전하면서 개발 세트와 시험 세트를 설정하는          
가이드라인도 계속 바뀌고 있습니다.     
좋은 예시들을 한번 살펴보도록 하죠.        

# 머신 러닝의 경험 법칙
아마 머신러닝의 경험 법칙을 들어보았을 겁니다.     
모든 데이터에 대해서  7:3으로 나눈 뒤에 각각을 학습 세트와 시험 세트로 쓰는 거죠.          
만약 학습, 개발, 시험 세트를 모두 쓰신다면 60%는 학습 세트로
20%는 개발 세트로 그리고 20%는 시험 세트로 쓰는 거죠.          
머신러닝 학문 초기에는 이 얘기가 꽤나 합리적이었습니다.         
그때는 데이터 세트의 크기가 작았을 때 말이에요.          
예를 들어 100개의 예시가 있다고 하면 70:30이나 60:20:20의 경험 법칙이 꽤 합리적입니다.             
1,000개나 10,000개 정도까지도 말이 안 될 정도는 아닙니다.           

#
하지만 머신러닝 학문의 근래에는 훨씬 큰 데이터 세트를 다룹니다.             
예를 들어 1,000,000개의 학습 예시가 있다고 하죠.          
98%의 데이터를 학습 세트로 1%를 개발 세트,         
남은 1%를 시험 세트로 쓰는 것이 좀 합리적인 방법이겠죠.           
여기서 D와 T는 각각 개발 세트와 시험 세트를 나타냅니다.         
왜냐하면 1,000,000개의 예시가 있는 경우 1%만 해도 10,000개의 예시입니다.          
개발 세트나 시험 세트로는 충분한 숫자죠.      
즉 딥러닝 학문이 최근에 들어서는 훨씬 큰 데이터 세트를 다루고 있기 때문에          
20%나 30%보다 훨씬 적은 데이터를 개발 세트나 시험 세트로 쓰는 것이 더 바람직합니다.         
그리고 딥러닝 알고리즘은 데이터를 많이 필요로 하기 때문에             
이렇게 많은 데이터를 갖고 있는 문제에서는 더 큰 비율이 학습 세트로 사용되는 거죠.          

#
시험 세트에 대해서 볼까요? 시험 세트의 목적을 떠올려봅시다.          
시스템 개발을 끝낸 후에 최종 시스템의 성능을 시험 세트를 이용하여 평가합니다.         
여기서 가이드라인은 시험 세트를 충분히 크게 해서 전체 시스템 성능을 대변할 수 있어야 한다는 겁니다.          
즉 최종 시스템의 성능을 측정하기 위해 아주 정확한 척도를 필요로 하지 않는 한             
시험 세트에 수백만개의 예시가 필요하지는 않습니다.          
여러분의 애플리케이션에는 10,000개, 아니면 100,000개도 괜찮구요.           
이 정도 숫자의 예시 정도면 충분히 최종 성능을 믿을만 합니다.         
데이터 크기에 따라 다르겠지만 아마 전체 데이터의 30%보다는 적겠죠.          

#
어떤 애플리케이션은 최종 시스템의 전체 성능에 높은 신뢰도가 필요없을 수도 있어요.         
즉 학습 세트와 개발 세트만 필요한 거죠.         
저는 시험 세트를 안 갖는 것도 가능하다고 생각합니다.                   
때때로 일어나는 일이 뭐냐하면 사람들은 학습 세트와 시험 세트를            
구분한다고 말하지만 실제로는 시험 세트를 이용해 과정을 반복하고 있습니다.          
즉 시험 세트를 가졌다기보다 학습 세트와 개발 세트를 갖고 시험 세트는 안 쓴 것이죠.                 
만약 이런 식으로 조정을 하고 있다면 시험 세트보다는 개발 세트가 옳습니다      

#
사실 머신러닝의 역사에서 모든 사람들이 명료하고 또 엄격하게            
개발 세트로 불려야할 것을 개발 세트로 부르지는 않았습니다.            
여러분이 중요하게 생각하는 것이 학습시킬 데이터와 조정해야할 데이터이고            
곧바로 최종 시스템을 선보일 예정이라면 그리고 실제 성능을 크게 걱정하지 않는다면           
학습, 개발 세트라고 부르고 시험 세트가 없다는 것을 인정하기 바랍니다.          
사실 그렇게 일반적인 방법은 아닙니다 시험 세트를 건너뛰는 걸 결코 추천하지 않아요.          
제가 시스템을 만들 때에는 독립적인 시험 세트를 만들어서             
최종적으로 쓰이기 전에 편향없는 결과를 보입니다.         
개발 세트가 정말 커서 개발 세트에 과대적합되지 않을 것 같다면         
시험 세트와 개발 세트만 갖는 것이 완전히 말이 안 되는 것은 아니에요.           
하지만 일반적으로 추천하진 않습니다.         

# 아웃트로
이제 요약해봅시다.        
빅데이터의 시대에서 70:30 분리와 같은 경험 법칙은 더 이상 적용되지 않고         
요즘 유행은 데이터 세트가 아주 클 때 학습에 더 많은 데이터를 쓰고 개발과 시험에는 덜 쓰는 겁니다.          
경험 법칙에 따르면 목적에 따라 개발 세트의 크기를 적절히 조절해야 합니다.         
알고리즘 A와 B 중 하나를 고를 때처럼 여러 아이디어들을 평가할 때 유용하죠.          
시험 세트의 목적은 최종 분류기를 평가하는 겁니다.        
여러분은 그 목적에 맞게 시험 세트의 크기를 조정하면 되는 거고요.          
데이터의 20%보다 훨씬 작을 수도 있습니다.      
딥러닝 학문에서 개발 세트와 시험 세트를 어떻게 설정해야할지 감이 좀 잡혔으면 좋겠네요.         
