---
layout: post
title: "3강 birthday problem과 확률의 특성"
tags : [birthday problem, 확률의 non-native한 정의의 공리, 확률의 특성, 포함배제의 원리]
catagories: [Statistics 110]
---

# 학습 내용

### Birthday Problem
Birthday Problem: k명 중에 2명 이상이 같은 생일을 가질 확률(일별 출생 확률을 동일하고 각각의 사건은 독립적으로 발생한다고 가정한다.)     
k가 몇명 이상이어야 같은 생일을 가진 사람들이 있을 확률이 50%일까?      
k <= 365라 할 때,
P(k명의 생일이 모두 다름) = (365 * 364 * ... * (365-k+1)) / 365^k      
> k = 23일 때 50.7%, k = 50명일 때 97%, k=100명일 때 99.9%    
직관적으로 푸는 방법?
> 23C2 = 253개의 '짝'이 나옴       

### 확률의 Non-naive한 정의     
-공리
1. P(공집합) = 0, P(S) = 1          
2. P(An) n이 n-1부터 무한대까지의 합집합 = P(An) n-1부터 무한대까지의 합 (Ai, Aj는 서로소)

![image](https://user-images.githubusercontent.com/50114210/72277808-f522e600-3675-11ea-901a-d97c2ed620e6.png)        

![image](https://user-images.githubusercontent.com/50114210/72277831-04099880-3676-11ea-9d0a-6ba29ee70100.png)         


# 생일 문제
![image](https://user-images.githubusercontent.com/50114210/72271922-20540800-366b-11ea-85e5-b1eead691fc6.png)        
생일문제는 아주 간단한 예제임
두 명의 생일이 같을 확률이 얼마나 되는가?
최소한 두 명의 생일이 같은 확률
몇 명의 사람이 있어야 최소 50%의 확률로 두명의 생일이 같을까?
k명의 사람이 있을 때 두명이 생일이 같을 확률을 알아보자.         


문제를 풀기 전 생일에 대한 가정.             
2월 29일은 계산하기 귀찮으니까 제외하고 1년을 365일로 정의하자.            
365일 모두 동일한 확률을 지닌다.            
각 확률이 독립으로 가정          
독립은 직관적으로 모든 사람의 생일이 다른 사람의 생일에 영향을 미치지 않는 것         


k가 365보다 클 때는 확률은 1이다.         
생일이 될 수 있는 경우는 365가지 밖에 없는데        
사람이 366명 이상이면 한 박스에 무조건 두개의 점이 들어간다.    
비둘기 집의 원리라고 부름         

![image](https://user-images.githubusercontent.com/50114210/72272368-d9b2dd80-366b-11ea-87d3-4c7e1ab5fcbb.png)           
k가 365보다 작은 경우
일반적으로 확률이 50퍼이상이 되려면 100백 이상일거라고 예측한다.    
근데 정답은 23명이다.        
이를 어떻게 계산하고 의미가 무엇인지 알아보자.     
모두의 생일이 같지 않을 확률을 계산해보자.        
항상 확률을 직접 계산하는게 빠를지 여집합을 계산하는게 빠를지 생각하자     
분모는 365^k
분자는 365 * 364 * ... * (365 - k + 1)이다.     

![image](https://user-images.githubusercontent.com/50114210/72272605-40d09200-366c-11ea-806b-9a4217ee21e6.png)      
위의 수식을 지수적으로 계산하는 방법은 여러가지가 있음      
계산해보면 생일이 같을 확률을 얻을 수 있다.      
k가 50이라고하면 더 높은 확률이 나온다.      
97%의 훨씬 높은 확률이 나온다.      
100명이라고 가정하면 99.999...%의 확률을 가진다.      

![image](https://user-images.githubusercontent.com/50114210/72272994-e71c9780-366c-11ea-8254-e301eeda1323.png)           

확률은 어떻게 계산할까 기본적으로 k를 직관적인 수로 선택함          
가장 중요한 값은 k가 아닌 k에서 2개를 고르는 경우의 수입니다.        
k명 중 2명을 고르는 경우는 (k(k-1))/2이고     
23명을 고른다고 하면 23 * 22 / 2가 된다.     
23명의 경우엔 253쌍을 만들 수 있다.       
23은 작지만 253은 충분히 큰 수 이다.      
253은 365에 충분히 근접한 값이다.         


만약 두 사람의 생일이 단 하루가 차이난다고하면      
이 확률은 어떻게 계산할까?     
이번엔 생일이 같거나 하루 차이나는 경우까지 포함하면     
14명의 사람만이 필요하다.       


여기서 기본적인 개념은 우연에 관한 것인데      
가장 큰 우연은 우연한 일이 전혀 없는 상태다.        
23명만 있어도 253가지의 우연이 발생할 수 있다.           

# 단순하지 않은 확률의 문제
![image](https://user-images.githubusercontent.com/50114210/72273978-af165400-366e-11ea-871f-f80962320549.png)       

두 가지의 정리만 있으면 된다.         
우리가 정의한 표본 공간이 있었고 P는 확률을 뜻한다.    
1. 공집합의 확률은 0이고 표본 집합의 확률은 1이다.     
2. P(An합집합) n이 1부터 무한대까지 = P(An) n이 1부터 무한대까지 (A가 서로소 일 때)
공집합도 이벤트이지만 절대 발생하지 않는 이벤트이고    
표본집합은 항상 발생하는 이벤트이다.


표본공간 S가 있다.    
직관적으로 확률을 면적으로 생각해보자.    
직사각형의 면적은 1      
세가지 사건을 더한 확률은 각 확률을 더한 것      


이는 확률에서 큰진전인데 그 이유는      
이것을 집합, 사건, 합집합, 교집합 등으로 생각하게 된 것이었다.     
그리고 또 다른 수학적 진전이 있는데      
그것이 위의 두가지 진전이다.      
수학자 콜모그라프가 위의 두 수식에 가장 많이 공헌했다고 한다.     
통계학에서는 기본적인 문제에대해 생각하는 것이 중요하다.        


기본적으로 수학적인 관점에서는 표본 공간과 이를만족하는 p가 있다면     
p가 사건을 입력하고 0부터 1을 출력하는 함수라는 것이다.      
이를 만족하면 P를 확률이라고 할 수 있다.         
그것은 확률에 대한 모든 정의를 적용할 수 있고     
사건이 무엇인지는 생각하지 않아도 된다는 것이다.   

# Properties
![image](https://user-images.githubusercontent.com/50114210/72274528-b427d300-366f-11ea-8f26-2bd78b4895b1.png)       

1) P(A^C) = 1 - P(A)
증명:          
1 = P(S) = P(A U A^c) = P(A) + P(A^c)              

![image](https://user-images.githubusercontent.com/50114210/72274907-59db4200-3670-11ea-827a-3658420f2ecd.png)       

2) If A가 B에 속하면 // A기 발생하면 B도 발생한 것, P(A) <= P(B)        
증명:
B = A U (B 교집합 A^c)          
P(B) = P(A) + P(B 교집합 A^c) >= P(A)

![image](https://user-images.githubusercontent.com/50114210/72275751-df132680-3671-11ea-9441-de0569e41e65.png)         

3) P(A U B) = P(A) + P(B) - P(A 교집합 B)        
증명:      
P(A U B)을 서로소로 만들자.   
P(A U B) = P(A U (B 교집합 A')) = P(A) + P(B 교집합 A')       
Wishful Thinking =? P(A) + P(B) - P(A 교집합 B)
P(B) = P(A 교 B) + P(B 교 A')
A 교 B, A' 교 B는 서로소고 이들의 합집합은 B이다.      
포함의 배제 원리           


포함 배제 원리의 더 일반적인 표현 예제          
![image](https://user-images.githubusercontent.com/50114210/72276088-855f2c00-3672-11ea-95d9-8da18bcded50.png)     

세가지 사건인 경우로 표현해보자   
P(A U B U C)       
그림엔 중복된 것이 많이 보인다.     
P(A) + P(B) + P(C)          
- P(A 교 B) - P(A 교 C) - P(B 교 C)        
+ P(A 교 B 교 C)           

포함 배제 원리의 유명한 예시   
![image](https://user-images.githubusercontent.com/50114210/72276593-9eb4a800-3673-11ea-9e52-083b0b833620.png)       

몽모르트 문제, 매칭 문제          
가장 먼저 나온 형태는 도박      
1부터 N까지 표시된 카드가 있다고 가정해보자.     
한장을 넘길때 1             
다음 한장을 넘길 때 2          
n장을 넘길때 n이라고 말할건데           
카드에 쓰인 숫자랑 말한 숫자가 같으면 게임 끝         
최소 한 장의 카드에 적힌 숫자가 카드 뭉치의 위치와 같을 확률       

확률을 구하기 위해 사건을 정의하자.       

사건 Aj가 있다. j번째 카드가 매칭되는 상황       
j번째 카드에는 숫자 j가 써져있다.     
우리가 구해야하는 것은 합사건의 확률이다.         
최소 한장의 카드가 매칭될 확률        
P(A1 U A2 U A3 U A4 ... An)       
포함 배제원리는 합사건의 확률을 계산하는데 아주 유용한 방법      


P(Aj)는 j번째 카드에 숫자 j가 써져있을 확률     
이것에 확률의 단순한 정의를 사용할 수 있다.    
분모롤 n!을 적용하는 것도 괜찮지만      
단순히 1/n으로 보는 것도 괜찮다.      
j에 관한 식이 아니라는 것에 주목 n에 집중하자.         


![image](https://user-images.githubusercontent.com/50114210/72277004-7f6a4a80-3674-11ea-8c2a-50b249c106d3.png)       

P(A1 교 A2)를 계산해보자.     
n개의 카드를 뽑기 = n!      
위의 두 장을 제외하고 뽑기 (n-2)!           
(n-2)!/n! = 1 / n(n-1)        

P(Ai 교 ... Ak) = (n-k)! / n!       

![image](https://user-images.githubusercontent.com/50114210/72277282-01f30a00-3675-11ea-8c06-c8108ab23e1d.png)          
             
![image](https://user-images.githubusercontent.com/50114210/72277364-218a3280-3675-11ea-9a13-82a2b42797a0.png)
             
